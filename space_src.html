<!DOCTYPE html>
<html lang="en">
    <head>
        <title>SIC - 3D boxes flyabout</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">

        <link rel="stylesheet" type="text/css" href="common.css">
        <link rel="stylesheet" type="text/css" href="space.css">

        <script type="x-shader/x-vertex" id="vertexshader">
            //uniform float u_zoom;

            attribute float a_glow;
            attribute vec2 a_spriteUv;
            attribute vec4 a_colour;

            varying float v_glow;
            varying vec2 v_spriteUv;
            varying vec4 v_colour;

            void main()
            {
                v_glow = a_glow;
                v_spriteUv = a_spriteUv;
                v_colour = a_colour;

                vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);
                gl_PointSize = 16.0 * (300.0 / -mvPosition.z);
                gl_Position = projectionMatrix * mvPosition;
            }
        </script>

        <script type="x-shader/x-fragment" id="fragmentshader">
            varying float v_glow;

            varying vec2 v_spriteUv;
            varying vec4 v_colour;

            uniform sampler2D u_texture1;

            void main()
            {
                vec2 textureCoords = gl_PointCoord / 2.0;
                textureCoords += v_spriteUv;

                gl_FragColor = texture2D(u_texture1, textureCoords) * v_colour;
                //gl_FragColor.r = (1.0 - gl_FragColor.r) * v_alpha + gl_FragColor.r;
                gl_FragColor.rgb = gl_FragColor.rgb * (1.0 - v_glow) + vec3(v_glow);
                //gl_FragColor = gl_FragColor * (1.0);
            }
        </script>
    </head>
    <body>
      <div class="popupDialog controlsDialog">
        <h2>Move</h2>
        <ul>
          <li><span class="keyboardControl">W</span> <span class="keyboardControl">S</span> <span class="keyboardControl">A</span> <span class="keyboardControl">D</span> : forward / backward / leftward / rightward</li>
          <li><span class="keyboardControl">R</span> <span class="keyboardControl">F</span> : up / down</li>
        </ul>
        <h2>Rotate</h2>
        <ul>
          <li><span class="keyboardControl">arrow keys</span> or <span class="mouseControl">click+drag</span></li>
        </ul>
        <h2>Roll</h2>
        <ul>
          <li><span class="keyboardControl">Q</span> <span class="keyboardControl">E</span></li>
        </ul>
        <h2>Audio</h2>
        <ul>
          <li><span class="keyboardControl">Space</span> : stop/restart sequencer playback</li>
          <li><span class="keyboardControl">G</span> : show the current sequence, on a grid
          <li><span class="keyboardControl">P</span> : show the current sequence, in exportable text form
          <li><span class="keyboardControl">C</span> : record audio</li>
        </ul>
        <h2>Freesound</h2>
        <ul>
          <li><span class="keyboardControl">I</span> : show Freesound IDs for stars underneath mouse pointer</li>
          <li><span class="mouseControl">right-click</span> star : visit sound's page on freesound.org</li>
        </ul>
        <p class="dialogButtons">
          <button class="dialogButton closeButton">BACK</button>
        </p>
      </div>

      <!-- #require "space.js" -->
    </body>
</html>
